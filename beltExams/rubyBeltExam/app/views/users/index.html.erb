<%= render 'shared/navBar' %> 

<div class= "container mt-4">
    <h1>Users</h1>
    <p>A table of all the users who have an account.</p>
    <table class="table table-borderless">
        <thead>
            <tr>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Email Address</th>
                <th scope="col">Action(s)</th>
            </tr>
        </thead>
        <tbody>
        <% @allUsers.each do |user|%>
            <tr>
                <td><%= user.firstName %></td>
                <td><%= user.lastName%></td>
                <td><%= user.emailAddress %></td>
                <td>
                    <a href="/users/<%= user.id %>">Show</a>
            <% if currentUser and user.id == currentUser.id %>
                    <a href="/users/<%= currentUser.id %>/edit"> | Edit |</a>
                    <form style="position: relative; top: -31px; left: 82px;" action="/users/<%= currentUser.id %>"method="post">
                        <input type="hidden" name="_method" value="delete">
                        <input type="hidden" name="authenticity_token" value="<%=form_authenticity_token%>">
                        <button type="submit" class="btn btn-link" value="Destroy">Delete Account</button>
                    </form>
            <% end %>
                </td>
            </tr>
        <% end %>
        </tbody>
    </table>
</div>